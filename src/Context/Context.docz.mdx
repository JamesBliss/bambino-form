---
name: Context
route: /context
---

import { Playground, Props } from 'docz'
import { object, string } from 'yup';
import Form from '../../src/Form/Form'
import Context from '../../src/Context/Context'
import Input from '../../src/Input/Input'

# Context

The `<Context />` offers access to various props without going through other hooks and components. If you want direct access to the context powering the current form this is you go to!

## Basic usage

<Playground>
  <Form onSubmit={ _ => _ }>
    <Input
      name='name'
      schema={ string().required('Name is required') }
      placeholder='Enter name'
    />
    <Context.Consumer>
      { (props) => {
        /* hack so you can see functions üôà */
        Function.prototype.toJSON = function() { return this.toString(); }
        /* rending everything out of the context! */
        return <pre>{ JSON.stringify(props, null, 2)}</pre>
       } }
    </Context.Consumer>
  </Form>
</Playground>

## Disable Submit

With this contextual power you can do things like disabling the submit if there are errors.

I'll leave you to come up with me üòÖ

<Playground>
  <Form onSubmit={ data => alert(JSON.stringify(data, null, 2)) }>
    <Input
      name='name'
      schema={ string().required('Name is required') }
      placeholder='Enter name'
    />
    <br />
    {/* This is required because docz doesn't support form submission ü§¶‚Äç */}
    <Context.Consumer>
      { ({ handleSubmit, errors }) => (
        <button
          disabled={ Object.keys(errors).length }
          onClick={ (e) => handleSubmit(e) }
        >
          Submit full name
        </button>
      )}
    </Context.Consumer>
  </Form>
</Playground>
